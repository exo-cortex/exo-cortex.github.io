<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>sed_basics - exo-cortex: weblog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="what is sed? sed is a &ldquo;stream editor&rdquo; in the commandline. It can do a lot of things and I wrote down some basics examples here (to avoid re-googling them in a few months). A great and very thorough guide can be found elsewhere [0]. I only post the most useful examples that I needed so far.
sed typically works by reading an input string, looks for patterns and does something with these patterns."><meta property="og:image" content><meta property="og:title" content="sed_basics"><meta property="og:description" content="what is sed? sed is a &ldquo;stream editor&rdquo; in the commandline. It can do a lot of things and I wrote down some basics examples here (to avoid re-googling them in a few months). A great and very thorough guide can be found elsewhere [0]. I only post the most useful examples that I needed so far.
sed typically works by reading an input string, looks for patterns and does something with these patterns."><meta property="og:type" content="article"><meta property="og:url" content="https://exo-cortex.github.io/how-to/sed_basics/"><meta property="article:published_time" content="2021-10-30T12:09:13+02:00"><meta property="article:modified_time" content="2021-10-30T12:09:13+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="sed_basics"><meta name=twitter:description content="what is sed? sed is a &ldquo;stream editor&rdquo; in the commandline. It can do a lot of things and I wrote down some basics examples here (to avoid re-googling them in a few months). A great and very thorough guide can be found elsewhere [0]. I only post the most useful examples that I needed so far.
sed typically works by reading an input string, looks for patterns and does something with these patterns."><script src=https://exo-cortex.github.io/js/feather.min.js></script><link href=https://exo-cortex.github.io/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://exo-cortex.github.io/css/main.f354d104e4f25e1f0121dcd3bf611971d9a9e4c055e4c38c69de20042123a240.css></head><body><div class=content><header><div class=main><a href=https://exo-cortex.github.io/>exo-cortex: weblog</a></div><nav><a href=/>home</a>
<a href=/blog>blog</a>
<a href=/how-to>how-to</a>
<a href=/projects>projects</a>
<a href=/tags>tags</a>
<a href=/about/about/>about</a></nav></header><main><article><div class=title><h1 class=title>sed_basics</h1><div class=meta>posted: Oct 30, 2021</div></div><section class=body><h1 id=what-is-sed>what is sed?</h1><p>sed is a &ldquo;stream editor&rdquo; in the commandline. It can do a lot of things and I wrote down some basics examples here (to avoid re-googling them in a few months). A great and very thorough guide can be found elsewhere [0]. I only post the most useful examples that I needed so far.</p><p>sed typically works by reading an input string, looks for patterns and does something with these patterns. See this basic example:</p><div class=highlight><pre style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#408080;font-style:italic># replace &#34;a &#34; with &#34;not a &#34;</span>
$ <span style=color:green>echo</span> <span style=color:#ba2121>&#34;this is a sentence.&#34;</span> | sed <span style=color:#ba2121>&#39;s/a /not a /&#39;</span>
</code></pre></div><p>The echo command prints &ldquo;this is a sentence.&rdquo; and pipes the result (with the &ldquo;|"-character) to sed which replaces &ldquo;a " with &ldquo;not a &ldquo;. Usually the sed command is followed by &rsquo;s/PATTERN/REPLACEMENT/'.</p><h2 id=typical-usecases>typical usecases</h2><h3 id=numbers-and-letters>numbers and letters</h3><div class=highlight><pre style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#408080;font-style:italic># replace a single instance of &#34;number&#34; with the letter &#34;a_&#34;:</span>
$ <span style=color:green>echo</span> <span style=color:#ba2121>&#34;012345679&#34;</span> | sed <span style=color:#ba2121>&#39;s/[0-9]/a_/&#39;</span>
a_123456789

<span style=color:#408080;font-style:italic># replace a pattern that consists of 0-n instances of &#34;number&#34; with the letter &#34;a_&#34;:</span>
$ <span style=color:green>echo</span> <span style=color:#ba2121>&#34;012345679&#34;</span> | sed <span style=color:#ba2121>&#39;s/[0-9]*/a_/&#39;</span>
a_
</code></pre></div><p>the same works for letters:</p><div class=highlight><pre style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ <span style=color:green>echo</span> <span style=color:#ba2121>&#34;abcdefghijklmnopqrstuvwxyz&#34;</span> | sed <span style=color:#ba2121>&#39;s/[a-z]/A_/&#39;</span>
A_bcdefghijklmnopqrstuvwxyz

$ <span style=color:green>echo</span> <span style=color:#ba2121>&#34;012345679&#34;</span> | sed <span style=color:#ba2121>&#39;s/[a-z]*/A_/&#39;</span>
A_
</code></pre></div><h3 id=matching-and-replacing-a-pattern-multiple-times>matching and replacing a pattern multiple times</h3><div class=highlight><pre style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#408080;font-style:italic># replace each occurrence of &#34;b&#34; with &#34;B&#34; </span>
$ <span style=color:green>echo</span> <span style=color:#ba2121>&#34;abababa&#34;</span> | sed <span style=color:#ba2121>&#39;s/b/B/g&#39;</span>
aBaBaBa
</code></pre></div><h3 id=using-the-matched-pattern-again>using the matched pattern again</h3><p>The character &ldquo;<strong>&</strong>&rdquo; represents the matched pattern.</p><div class=highlight><pre style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#408080;font-style:italic># find &#34;b&#34; and replace it with &#34; bb &#34; by doubling the pattern</span>
$ <span style=color:green>echo</span> <span style=color:#ba2121>&#34;abababa&#34;</span> | sed <span style=color:#ba2121>&#39;s/b*/ &amp;&amp; /&#39;</span>
a bb ababa

<span style=color:#408080;font-style:italic># do that for each ocurrence of &#34;b&#34;</span>
$ <span style=color:green>echo</span> <span style=color:#ba2121>&#34;abababa&#34;</span> | sed <span style=color:#ba2121>&#39;s/b*/ &amp;&amp; /g&#39;</span>
a bb a bb a bb a
</code></pre></div><h3 id=using-multiple-sed-commands-after-each-other>using multiple sed-commands after each other</h3><p>instead of piping one results from sed to another instance of sed (and so on) sed can match multiple patterns.</p><div class=highlight><pre style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#408080;font-style:italic># first: replace first instance of a letter with &#34;a_&#34;</span>
<span style=color:#408080;font-style:italic># then: replace first instance of a letter with &#34;firstletter&#34;</span>
<span style=color:green>echo</span> <span style=color:#ba2121>&#34;abcdefghijklmnopqrstuvwxyz&#34;</span> | sed <span style=color:#ba2121>&#39;s/[a-z]/a_/ ; s/[a-z]/firstletter/&#39;</span>
</code></pre></div><p>Links:</p><p>[0] <a href=https://www.grymoire.com/Unix/Sed.html>sed tutorial</a></p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/bash>bash</a></li><li><a href=/tags/linux>linux</a></li><li><a href=/tags/commandline>commandline</a></li></ul></nav></div></article></main><footer><hr><a class=soc href=https://github.com/exo-cortex title=GitHub><i data-feather=github></i></a>|2022 <a href=https://github.com/exo-cortex/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></footer><script>feather.replace()</script></div></body></html>