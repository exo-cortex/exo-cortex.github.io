<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>ffmpeg_scripts - exo-cortex: weblog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="How to use ffmpeg. I use ffmpeg to convert videos from one format to the other. In order to create small video files from gifs I use this script:
#!/usr/bin/sh # two-pass video-conversion with resizing to width  echo &#34;$1>> $2resizing to width=$3with target video-bitrate of $4&#34; ffmpeg -y -i &#34;$1&#34; -vf scale=$3:-1 -c:v vp9 -preset quality -b:v $4 -pass 1 -an -auto-alt-ref 0 -f webm /dev/null && \ ffmpeg -i &#34;$1&#34; -vf scale=$3:-1 -c:v vp9 -preset quality -b:v $4 -pass 2 -an -auto-alt-ref 0 $2 explanation:"><meta property="og:image" content><meta property="og:title" content="ffmpeg_scripts"><meta property="og:description" content="How to use ffmpeg. I use ffmpeg to convert videos from one format to the other. In order to create small video files from gifs I use this script:
#!/usr/bin/sh # two-pass video-conversion with resizing to width  echo &#34;$1>> $2resizing to width=$3with target video-bitrate of $4&#34; ffmpeg -y -i &#34;$1&#34; -vf scale=$3:-1 -c:v vp9 -preset quality -b:v $4 -pass 1 -an -auto-alt-ref 0 -f webm /dev/null && \ ffmpeg -i &#34;$1&#34; -vf scale=$3:-1 -c:v vp9 -preset quality -b:v $4 -pass 2 -an -auto-alt-ref 0 $2 explanation:"><meta property="og:type" content="article"><meta property="og:url" content="https://exo-cortex.github.io/how-to/ffmpeg_scripts/"><meta property="article:published_time" content="2021-05-30T20:09:19+02:00"><meta property="article:modified_time" content="2021-05-30T20:09:19+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="ffmpeg_scripts"><meta name=twitter:description content="How to use ffmpeg. I use ffmpeg to convert videos from one format to the other. In order to create small video files from gifs I use this script:
#!/usr/bin/sh # two-pass video-conversion with resizing to width  echo &#34;$1>> $2resizing to width=$3with target video-bitrate of $4&#34; ffmpeg -y -i &#34;$1&#34; -vf scale=$3:-1 -c:v vp9 -preset quality -b:v $4 -pass 1 -an -auto-alt-ref 0 -f webm /dev/null && \ ffmpeg -i &#34;$1&#34; -vf scale=$3:-1 -c:v vp9 -preset quality -b:v $4 -pass 2 -an -auto-alt-ref 0 $2 explanation:"><script src=https://exo-cortex.github.io/js/feather.min.js></script><link href=https://exo-cortex.github.io/css/fonts.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://exo-cortex.github.io/css/main.css></head><body><div class=content><header><div class=main><a href=https://exo-cortex.github.io/>exo-cortex: weblog</a></div><nav><a href=/>home</a>
<a href=/blog>blog</a>
<a href=/how-to>how-to</a>
<a href=/projects>projects</a>
<a href=/tags>tags</a>
<a href=/about>about</a></nav></header><main><article><div class=title><h1 class=title>ffmpeg_scripts</h1><div class=meta>Posted on May 30, 2021</div></div><section class=body><p>How to use ffmpeg.
I use ffmpeg to convert videos from one format to the other. In order to create small video files from gifs I use this script:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/usr/bin/sh
</span><span style=color:#75715e></span><span style=color:#75715e># two-pass video-conversion with resizing to width </span>
echo <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74> &gt;&gt; </span>$2<span style=color:#e6db74> resizing to width=</span>$3<span style=color:#e6db74> with target video-bitrate of </span>$4<span style=color:#e6db74>&#34;</span>

ffmpeg -y -i <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> -vf scale<span style=color:#f92672>=</span>$3:-1 -c:v vp9 -preset quality -b:v $4 -pass <span style=color:#ae81ff>1</span> -an -auto-alt-ref <span style=color:#ae81ff>0</span> -f webm /dev/null <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>ffmpeg -i <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> -vf scale<span style=color:#f92672>=</span>$3:-1 -c:v vp9 -preset quality -b:v $4 -pass <span style=color:#ae81ff>2</span> -an -auto-alt-ref <span style=color:#ae81ff>0</span> $2
</code></pre></div><p>explanation:</p><ul><li>-an -> drop audio</li><li>-vf -> video filtering</li><li>-c:v -> video codec - here &ldquo;vp9&rdquo;</li><li>-preset -> [ultrafast, superfast, veryfast, faster, fast, medium (default), slow, slower, veryslow]</li></ul></section><div class=post-tags></div></article></main><footer><hr><a class=soc href=https://github.com/exo-cortex title=GitHub><i data-feather=github></i></a>|2021 <a href=https://github.com/exo-cortex/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></footer><script>feather.replace()</script></div></body></html>